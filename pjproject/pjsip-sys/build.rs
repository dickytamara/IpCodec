// extern crate bindgen;
// use std::env;

fn main () {

    // dynamic
    println!("cargo:rustc-link-lib=pjsip");
    println!("cargo:rustc-link-search=native=/usr/local/lib");
    println!("cargo:rerun-if-changed=wrapper.h");

    // static
    // println!("cargo:rustc-link-lib=static=pjsip-x86_64-unknown-linux-gnu");
    // println!("cargo:rustc-link-search=native=/usr/local/lib");
    // println!("cargo:rerun-if-changed=wrapper.h");

    // generate lib.rs
    // create_bindgen();

}


// fn create_bindgen() {
//     let pjsip = bindgen::Builder::default().header("wrapper.h")

//     .raw_line("#![allow(non_upper_case_globals)]")
//     .raw_line("#![allow(non_camel_case_types)]")
//     .raw_line("#![allow(non_snake_case)]")
//     .raw_line("extern crate pj_sys;")
//     .raw_line("extern crate pjlib_util_sys;")
//     .raw_line("use pj_sys::*;")
//     .raw_line("use pjlib_util_sys::*;")
//     // .parse_callbacks(Box::new(bindgen::CargoCallbacks))


//     .allowlist_function("create_uas_dialog")
//     .allowlist_function("deinit_sip_parser")
//     .allowlist_function("init_sip_parser")
//     .allowlist_function("pjsip_accept_hdr_create")
//     .allowlist_function("pjsip_accept_hdr_init")
//     .allowlist_function("pjsip_allow_hdr_create")
//     .allowlist_function("pjsip_allow_hdr_init")
//     .allowlist_function("pjsip_auth_clt_clone")
//     .allowlist_function("pjsip_auth_clt_deinit")
//     .allowlist_function("pjsip_auth_clt_get_prefs")
//     .allowlist_function("pjsip_auth_clt_init")
//     .allowlist_function("pjsip_auth_clt_init_req")
//     .allowlist_function("pjsip_auth_clt_pref_dup")
//     .allowlist_function("pjsip_auth_clt_reinit_req")
//     .allowlist_function("pjsip_auth_clt_set_credentials")
//     .allowlist_function("pjsip_auth_clt_set_prefs")
//     .allowlist_function("pjsip_auth_create_digest")
//     .allowlist_function("pjsip_auth_deinit_parser")
//     .allowlist_function("pjsip_auth_init_parser")
//     .allowlist_function("pjsip_authorization_hdr_create")
//     .allowlist_function("pjsip_auth_srv_challenge")
//     .allowlist_function("pjsip_auth_srv_init")
//     .allowlist_function("pjsip_auth_srv_init2")
//     .allowlist_function("pjsip_auth_srv_verify")
//     .allowlist_function("pjsip_calculate_branch_id")
//     .allowlist_function("pjsip_cid_hdr_create")
//     .allowlist_function("pjsip_cid_hdr_init")
//     .allowlist_function("pjsip_clen_hdr_create")
//     .allowlist_function("pjsip_clen_hdr_init")
//     .allowlist_function("pjsip_clone_text_data")
//     .allowlist_function("pjsip_concat_param_imp")
//     .allowlist_function("pjsip_contact_hdr_create")
//     .allowlist_function("pjsip_contact_hdr_init")
//     .allowlist_function("pjsip_cred_info_cmp")
//     .allowlist_function("pjsip_cred_info_dup")
//     .allowlist_function("pjsip_cseq_hdr_create")
//     .allowlist_function("pjsip_cseq_hdr_init")
//     .allowlist_function("pjsip_ctype_hdr_create")
//     .allowlist_function("pjsip_ctype_hdr_init")
//     .allowlist_function("pjsip_dlg_add_usage")
//     .allowlist_function("pjsip_dlg_create_request")
//     .allowlist_function("pjsip_dlg_create_response")
//     .allowlist_function("pjsip_dlg_create_uac")
//     .allowlist_function("pjsip_dlg_create_uac2")
//     .allowlist_function("pjsip_dlg_create_uas_and_inc_lock")
//     .allowlist_function("pjsip_dlg_dec_lock")
//     .allowlist_function("pjsip_dlg_dec_session")
//     .allowlist_function("pjsip_dlg_fork")
//     .allowlist_function("pjsip_dlg_get_lock")
//     .allowlist_function("pjsip_dlg_get_mod_data")
//     .allowlist_function("pjsip_dlg_get_remote_cap_hdr")
//     .allowlist_function("pjsip_dlg_has_usage")
//     .allowlist_function("pjsip_dlg_inc_lock")
//     .allowlist_function("pjsip_dlg_inc_session")
//     .allowlist_function("pjsip_dlg_modify_response")
//     .allowlist_function("pjsip_dlg_on_rx_request")
//     .allowlist_function("pjsip_dlg_on_rx_response")
//     .allowlist_function("pjsip_dlg_on_tsx_state")
//     .allowlist_function("pjsip_dlg_remote_has_cap")
//     .allowlist_function("pjsip_dlg_remove_remote_cap_hdr")
//     .allowlist_function("pjsip_dlg_respond")
//     .allowlist_function("pjsip_dlg_send_request")
//     .allowlist_function("pjsip_dlg_send_response")
//     .allowlist_function("pjsip_dlg_set_mod_data")
//     .allowlist_function("pjsip_dlg_set_remote_cap_hdr")
//     .allowlist_function("pjsip_dlg_set_route_set")
//     .allowlist_function("pjsip_dlg_set_transport")
//     .allowlist_function("pjsip_dlg_set_via_sent_by")
//     .allowlist_function("pjsip_dlg_terminate")
//     .allowlist_function("pjsip_dlg_try_inc_lock")
//     .allowlist_function("pjsip_dlg_update_remote_cap")
//     .allowlist_function("pjsip_endpt_acquire_transport")
//     .allowlist_function("pjsip_endpt_acquire_transport2")
//     .allowlist_function("pjsip_endpt_add_capability")
//     .allowlist_function("pjsip_endpt_atexit")
//     .allowlist_function("pjsip_endpt_cancel_timer")
//     .allowlist_function("pjsip_endpt_create")
//     .allowlist_function("pjsip_endpt_create_ack")
//     .allowlist_function("pjsip_endpt_create_cancel")
//     .allowlist_function("pjsip_endpt_create_pool")
//     .allowlist_function("pjsip_endpt_create_request")
//     .allowlist_function("pjsip_endpt_create_request_from_hdr")
//     .allowlist_function("pjsip_endpt_create_request_fwd")
//     .allowlist_function("pjsip_endpt_create_resolver")
//     .allowlist_function("pjsip_endpt_create_response")
//     .allowlist_function("pjsip_endpt_create_response_fwd")
//     .allowlist_function("pjsip_endpt_create_tdata")
//     .allowlist_function("pjsip_endpt_destroy")
//     .allowlist_function("pjsip_endpt_dump")
//     .allowlist_function("pjsip_endpt_get_capability")
//     .allowlist_function("pjsip_endpt_get_ioqueue")
//     .allowlist_function("pjsip_endpt_get_request_headers")
//     .allowlist_function("pjsip_endpt_get_resolver")
//     .allowlist_function("pjsip_endpt_get_timer_heap")
//     .allowlist_function("pjsip_endpt_get_tpmgr")
//     .allowlist_function("pjsip_endpt_handle_events")
//     .allowlist_function("pjsip_endpt_handle_events2")
//     .allowlist_function("pjsip_endpt_has_capability")
//     .allowlist_function("pjsip_endpt_log_error")
//     .allowlist_function("pjsip_endpt_name")
//     .allowlist_function("pjsip_endpt_process_rx_data")
//     .allowlist_function("pjsip_endpt_register_module")
//     .allowlist_function("pjsip_endpt_release_pool")
//     .allowlist_function("pjsip_endpt_resolve")
//     .allowlist_function("pjsip_endpt_respond")
//     .allowlist_function("pjsip_endpt_respond_stateless")
//     .allowlist_function("pjsip_endpt_schedule_timer_dbg")
//     .allowlist_function("pjsip_endpt_schedule_timer_w_grp_lock_dbg")
//     .allowlist_function("pjsip_endpt_send_raw")
//     .allowlist_function("pjsip_endpt_send_raw_to_uri")
//     .allowlist_function("pjsip_endpt_send_request")
//     .allowlist_function("pjsip_endpt_send_request_stateless")
//     .allowlist_function("pjsip_endpt_send_response")
//     .allowlist_function("pjsip_endpt_send_response2")
//     .allowlist_function("pjsip_endpt_set_ext_resolver")
//     .allowlist_function("pjsip_endpt_set_resolver")
//     .allowlist_function("pjsip_endpt_unregister_module")
//     .allowlist_function("pjsip_event_str")
//     .allowlist_function("pjsip_expires_hdr_create")
//     .allowlist_function("pjsip_expires_hdr_init")
//     .allowlist_function("pjsip_find_msg")
//     .allowlist_function("pjsip_from_hdr_create")
//     .allowlist_function("pjsip_from_hdr_init")
//     .allowlist_function("pjsip_fromto_hdr_set_from")
//     .allowlist_function("pjsip_fromto_hdr_set_to")
//     .allowlist_function("pjsip_generic_array_hdr_create")
//     .allowlist_function("pjsip_generic_array_hdr_init")
//     .allowlist_function("pjsip_generic_int_hdr_create")
//     .allowlist_function("pjsip_generic_int_hdr_init")
//     .allowlist_function("pjsip_generic_string_hdr_create")
//     .allowlist_function("pjsip_generic_string_hdr_init")
//     .allowlist_function("pjsip_generic_string_hdr_init2")
//     .allowlist_function("pjsip_get_ack_method")
//     .allowlist_function("pjsip_get_bye_method")
//     .allowlist_function("pjsip_get_cancel_method")
//     .allowlist_function("pjsip_get_dest_info")
//     .allowlist_function("pjsip_get_invite_method")
//     .allowlist_function("pjsip_get_options_method")
//     .allowlist_function("pjsip_get_register_method")
//     .allowlist_function("pjsip_get_request_dest")
//     .allowlist_function("pjsip_get_response_addr")
//     .allowlist_function("pjsip_get_status_text")
//     .allowlist_function("pjsip_hdr_clone")
//     .allowlist_function("pjsip_hdr_print_on")
//     .allowlist_function("pjsip_hdr_shallow_clone")
//     .allowlist_function("pjsip_loop_set_delay")
//     .allowlist_function("pjsip_loop_set_discard")
//     .allowlist_function("pjsip_loop_set_failure")
//     .allowlist_function("pjsip_loop_set_recv_delay")
//     .allowlist_function("pjsip_loop_set_send_callback_delay")
//     .allowlist_function("pjsip_loop_start")
//     .allowlist_function("pjsip_max_fwd_hdr_create")
//     .allowlist_function("pjsip_max_fwd_hdr_init")
//     .allowlist_function("pjsip_media_type_cmp")
//     .allowlist_function("pjsip_media_type_cp")
//     .allowlist_function("pjsip_media_type_init")
//     .allowlist_function("pjsip_media_type_init2")
//     .allowlist_function("pjsip_media_type_print")
//     .allowlist_function("pjsip_method_cmp")
//     .allowlist_function("pjsip_method_copy")
//     .allowlist_function("pjsip_method_creates_dialog")
//     .allowlist_function("pjsip_method_init")
//     .allowlist_function("pjsip_method_init_np")
//     .allowlist_function("pjsip_method_set")
//     .allowlist_function("pjsip_min_expires_hdr_create")
//     .allowlist_function("pjsip_min_expires_hdr_init")
//     .allowlist_function("pjsip_msg_body_clone")
//     .allowlist_function("pjsip_msg_body_copy")
//     .allowlist_function("pjsip_msg_body_create")
//     .allowlist_function("pjsip_msg_clone")
//     .allowlist_function("pjsip_msg_create")
//     .allowlist_function("pjsip_msg_find_hdr")
//     .allowlist_function("pjsip_msg_find_hdr_by_name")
//     .allowlist_function("pjsip_msg_find_hdr_by_names")
//     .allowlist_function("pjsip_msg_find_remove_hdr")
//     .allowlist_function("pjsip_msg_print")
//     .allowlist_function("pjsip_multipart_add_part")
//     .allowlist_function("pjsip_multipart_clone_part")
//     .allowlist_function("pjsip_multipart_create")
//     .allowlist_function("pjsip_multipart_create_part")
//     .allowlist_function("pjsip_multipart_find_part")
//     .allowlist_function("pjsip_multipart_get_first_part")
//     .allowlist_function("pjsip_multipart_get_next_part")
//     .allowlist_function("pjsip_multipart_get_raw")
//     .allowlist_function("pjsip_multipart_parse")
//     .allowlist_function("pjsip_name_addr_assign")
//     .allowlist_function("pjsip_name_addr_create")
//     .allowlist_function("pjsip_name_addr_init")
//     .allowlist_function("pjsip_other_uri_create")
//     .allowlist_function("pjsip_param_clone")
//     .allowlist_function("pjsip_param_cmp")
//     .allowlist_function("pjsip_param_find")
//     .allowlist_function("pjsip_param_print_on")
//     .allowlist_function("pjsip_param_shallow_clone")
//     .allowlist_function("pjsip_parse_end_hdr_imp")
//     .allowlist_function("pjsip_parse_generic_array_hdr_imp")
//     .allowlist_function("pjsip_parse_hdr")
//     .allowlist_function("pjsip_parse_headers")
//     .allowlist_function("pjsip_parse_msg")
//     .allowlist_function("pjsip_parse_param_imp")
//     .allowlist_function("pjsip_parser_const")
//     .allowlist_function("pjsip_parse_rdata")
//     .allowlist_function("pjsip_parse_status_line")
//     .allowlist_function("pjsip_parse_uri")
//     .allowlist_function("pjsip_parse_uri_param_imp")
//     .allowlist_function("pjsip_print_text_body")
//     .allowlist_function("pjsip_process_rdata_param_default")
//     .allowlist_function("pjsip_process_route_set")
//     .allowlist_function("pjsip_proxy_authenticate_hdr_create")
//     .allowlist_function("pjsip_proxy_authorization_hdr_create")
//     .allowlist_function("pjsip_rdata_get_dlg")
//     .allowlist_function("pjsip_rdata_get_tsx")
//     .allowlist_function("pjsip_register_hdr_parser")
//     .allowlist_function("pjsip_register_uri_parser")
//     .allowlist_function("pjsip_require_hdr_create")
//     .allowlist_function("pjsip_require_hdr_init")
//     .allowlist_function("pjsip_resolve")
//     .allowlist_function("pjsip_resolver_create")
//     .allowlist_function("pjsip_resolver_destroy")
//     .allowlist_function("pjsip_resolver_get_resolver")
//     .allowlist_function("pjsip_resolver_set_ext_resolver")
//     .allowlist_function("pjsip_resolver_set_resolver")
//     .allowlist_function("pjsip_restore_strict_route_set")
//     .allowlist_function("pjsip_retry_after_hdr_create")
//     .allowlist_function("pjsip_retry_after_hdr_init")
//     .allowlist_function("pjsip_role_name")
//     .allowlist_function("pjsip_route_hdr_create")
//     .allowlist_function("pjsip_route_hdr_init")
//     .allowlist_function("pjsip_routing_hdr_set_route")
//     .allowlist_function("pjsip_routing_hdr_set_rr")
//     .allowlist_function("pjsip_rr_hdr_create")
//     .allowlist_function("pjsip_rr_hdr_init")
//     .allowlist_function("pjsip_rx_data_clone")
//     .allowlist_function("pjsip_rx_data_free_cloned")
//     .allowlist_function("pjsip_rx_data_get_info")
//     .allowlist_function("pjsip_sip_uri_assign")
//     .allowlist_function("pjsip_sip_uri_create")
//     .allowlist_function("pjsip_sip_uri_init")
//     .allowlist_function("pjsip_sip_uri_set_secure")
//     .allowlist_function("pjsip_strerror")
//     .allowlist_function("pjsip_supported_hdr_create")
//     .allowlist_function("pjsip_supported_hdr_init")
//     .allowlist_function("pjsip_target_assign_status")
//     .allowlist_function("pjsip_target_set_add_from_msg")
//     .allowlist_function("pjsip_target_set_add_uri")
//     .allowlist_function("pjsip_target_set_get_next")
//     .allowlist_function("pjsip_target_set_set_current")
//     .allowlist_function("pjsip_tcp_transport_cfg_default")
//     .allowlist_function("pjsip_tcp_transport_get_socket")
//     .allowlist_function("pjsip_tcp_transport_lis_start")
//     .allowlist_function("pjsip_tcp_transport_restart")
//     .allowlist_function("pjsip_tcp_transport_start")
//     .allowlist_function("pjsip_tcp_transport_start2")
//     .allowlist_function("pjsip_tcp_transport_start3")
//     .allowlist_function("pjsip_tdata_get_dlg")
//     .allowlist_function("pjsip_tel_nb_cmp")
//     .allowlist_function("pjsip_tel_uri_create")
//     .allowlist_function("pjsip_tel_uri_subsys_init")
//     .allowlist_function("pjsip_tls_setting_wipe_keys")
//     .allowlist_function("pjsip_tls_transport_lis_start")
//     .allowlist_function("pjsip_tls_transport_restart")
//     .allowlist_function("pjsip_tls_transport_start")
//     .allowlist_function("pjsip_tls_transport_start2")
//     .allowlist_function("pjsip_to_hdr_create")
//     .allowlist_function("pjsip_to_hdr_init")
//     .allowlist_function("pjsip_tpmgr_acquire_transport")
//     .allowlist_function("pjsip_tpmgr_acquire_transport2")
//     .allowlist_function("pjsip_tpmgr_create")
//     .allowlist_function("pjsip_tpmgr_destroy")
//     .allowlist_function("pjsip_tpmgr_dump_transports")
//     .allowlist_function("pjsip_tpmgr_find_local_addr")
//     .allowlist_function("pjsip_tpmgr_find_local_addr2")
//     .allowlist_function("pjsip_tpmgr_fla2_param_default")
//     .allowlist_function("pjsip_tpmgr_get_state_cb")
//     .allowlist_function("pjsip_tpmgr_get_transport_count")
//     .allowlist_function("pjsip_tpmgr_receive_packet")
//     .allowlist_function("pjsip_tpmgr_register_tpfactory")
//     .allowlist_function("pjsip_tpmgr_send_raw")
//     .allowlist_function("pjsip_tpmgr_set_drop_data_cb")
//     .allowlist_function("pjsip_tpmgr_set_state_cb")
//     .allowlist_function("pjsip_tpmgr_unregister_tpfactory")
//     .allowlist_function("pjsip_tpselector_add_ref")
//     .allowlist_function("pjsip_tpselector_dec_ref")
//     .allowlist_function("pjsip_transport_add_ref")
//     .allowlist_function("pjsip_transport_add_state_listener")
//     .allowlist_function("pjsip_transport_dec_ref")
//     .allowlist_function("pjsip_transport_destroy")
//     .allowlist_function("pjsip_transport_get_default_port_for_type")
//     .allowlist_function("pjsip_transport_get_flag_from_type")
//     .allowlist_function("pjsip_transport_get_type_desc")
//     .allowlist_function("pjsip_transport_get_type_from_flag")
//     .allowlist_function("pjsip_transport_get_type_from_name")
//     .allowlist_function("pjsip_transport_get_type_name")
//     .allowlist_function("pjsip_transport_register")
//     .allowlist_function("pjsip_transport_register_type")
//     .allowlist_function("pjsip_transport_remove_state_listener")
//     .allowlist_function("pjsip_transport_send")
//     .allowlist_function("pjsip_transport_shutdown")
//     .allowlist_function("pjsip_transport_shutdown2")
//     .allowlist_function("pjsip_transport_type_get_af")
//     .allowlist_function("pjsip_tsx_create_key")
//     .allowlist_function("pjsip_tsx_create_uac")
//     .allowlist_function("pjsip_tsx_create_uac2")
//     .allowlist_function("pjsip_tsx_create_uas")
//     .allowlist_function("pjsip_tsx_create_uas2")
//     .allowlist_function("pjsip_tsx_get_dlg")
//     .allowlist_function("pjsip_tsx_layer_destroy")
//     .allowlist_function("pjsip_tsx_layer_dump")
//     .allowlist_function("pjsip_tsx_layer_find_tsx")
//     .allowlist_function("pjsip_tsx_layer_find_tsx2")
//     .allowlist_function("pjsip_tsx_layer_get_tsx_count")
//     .allowlist_function("pjsip_tsx_layer_init_module")
//     .allowlist_function("pjsip_tsx_layer_instance")
//     .allowlist_function("pjsip_tsx_recv_msg")
//     .allowlist_function("pjsip_tsx_retransmit_no_state")
//     .allowlist_function("pjsip_tsx_send_msg")
//     .allowlist_function("pjsip_tsx_set_timeout")
//     .allowlist_function("pjsip_tsx_set_transport")
//     .allowlist_function("pjsip_tsx_state_str")
//     .allowlist_function("pjsip_tsx_stop_retransmit")
//     .allowlist_function("pjsip_tsx_terminate")
//     .allowlist_function("pjsip_tx_data_add_ref")
//     .allowlist_function("pjsip_tx_data_clone")
//     .allowlist_function("pjsip_tx_data_create")
//     .allowlist_function("pjsip_tx_data_dec_ref")
//     .allowlist_function("pjsip_tx_data_encode")
//     .allowlist_function("pjsip_tx_data_get_info")
//     .allowlist_function("pjsip_tx_data_invalidate_msg")
//     .allowlist_function("pjsip_tx_data_is_valid")
//     .allowlist_function("pjsip_tx_data_set_transport")
//     .allowlist_function("pjsip_ua_destroy")
//     .allowlist_function("pjsip_ua_dump")
//     .allowlist_function("pjsip_ua_find_dialog")
//     .allowlist_function("pjsip_ua_get_dlg_set_count")
//     .allowlist_function("pjsip_ua_get_endpt")
//     .allowlist_function("pjsip_ua_init_module")
//     .allowlist_function("pjsip_ua_instance")
//     .allowlist_function("pjsip_ua_register_dlg")
//     .allowlist_function("pjsip_ua_unregister_dlg")
//     .allowlist_function("pjsip_udp_transport_attach")
//     .allowlist_function("pjsip_udp_transport_attach2")
//     .allowlist_function("pjsip_udp_transport_cfg_default")
//     .allowlist_function("pjsip_udp_transport_get_socket")
//     .allowlist_function("pjsip_udp_transport_pause")
//     .allowlist_function("pjsip_udp_transport_restart")
//     .allowlist_function("pjsip_udp_transport_restart2")
//     .allowlist_function("pjsip_udp_transport_start")
//     .allowlist_function("pjsip_udp_transport_start2")
//     .allowlist_function("pjsip_udp_transport_start6")
//     .allowlist_function("pjsip_unsupported_hdr_create")
//     .allowlist_function("pjsip_unsupported_hdr_init")
//     .allowlist_function("pjsip_via_hdr_create")
//     .allowlist_function("pjsip_via_hdr_init")
//     .allowlist_function("pjsip_warning_hdr_create")
//     .allowlist_function("pjsip_warning_hdr_create_from_status")
//     .allowlist_function("pjsip_www_authenticate_hdr_create")

//     .allowlist_var("mod_stateful_util")


//     .allowlist_type("PJSIP_.*")
//     .allowlist_type("pjsip_.*")
//     .allowlist_var("PJSIP_.*")
//     .allowlist_var("pjsip_.*")



//     .allowlist_recursively(false)
//     .translate_enum_integer_types(true)
//     .layout_tests(false)
//     .prepend_enum_name(false)
//     .layout_tests(false)
//     .generate()
//     // Unwrap the Result and panic on failure.
//     .expect("Unable to generate bindings");

//     // Write the bindings to the $OUT_DIR/bindings.rs file.
//     let out_path = env::current_dir().unwrap();
//     pjsip.write_to_file(out_path.join("src/lib.rs")).expect("Error write src/lib.rs");

// }

